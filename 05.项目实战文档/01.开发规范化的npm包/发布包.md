### 发布包
在代码终端输入npm login
输入npm账号 密码，以及邮箱 按回车


首次发布可以使用npm run pub，因为第一次版本不需要更新，就是1.0.0
后面可以使用npm run pub:patch等先更新了版本然后去发布。
当运行了npm run pub:patch以后，首先会更新package.json的version，然后发布，同时会自动commitpackage.json文件
发布成功以后即可在自己的npm仓库看到包名字。

### 删除 指定版本或包：
```
npm unpublish [<pkg>][@<version>] --force
```

删除库包之后，24小时之内 无法再次上传同名的库包到 npm，需要更改包名，或者等过了 24小时之后 在上传


### 发布npm包遇到的一些问题
#### 问题1
```
npm ERR! publish Failed PUT 403
npm ERR! code E403
npm ERR! you must verify your email before publishing a new package: https://www.npmjs.com/email-edit : your-package
```

这是注册的npm账号邮箱未进行验证，先去验证。一开始出现这个原因我是邮箱填错一直没收到邮件。

#### 问题2
在发布npm包的时候可能会出现报错信息：
```
npm ERR! 403 403 Forbidden - PUT https://registry.npm.taobao.org/@hackycy%2fegg-typeorm - [no_perms] Private mode enable, only admin can publish this module
npm ERR! 403 In most cases, you or one of your dependencies are requesting
npm ERR! 403 a package version that is forbidden by your security policy.
```

出现这个问题是因为当前设置的是cnpm登录到的是cnpm，所以需要切换回来。
之前登录的时候就提出登录的是taobao只不过那个时候没注意。

可以输入一下命令查看当前的登录源：
```
$ npm config get registry
// https://registry.npm.taobao.org/
```

可以看到返回的地址是淘宝源，需要切回到npmjs源，输入以下命令：
```
$ npm config set registry=http://registry.npmjs.org
```
设置完之后在查看当前登录的源地址：
```
$ npm config get registry
// http://registry.npmjs.org/
```

然后重新npm login再发布即可。

#### 问题3
```
npm ERR! publish Failed PUT 403
npm ERR! code E403
npm ERR! You do not have permission to publish "your-package". Are you logged in as the correct user? : your-package
```

你的包和别人的包重名了，npm 里的包不允许重名，所以去 npm 搜一下，改个没人用的名字就可以了。或者用@your-name/your-package来命名。
#### 问题4
```
npm ERR! publish Failed PUT 402
npm ERR! code E402
npm ERR! You must sign up for private packages :
```

大多数是因为当你的包名为@your-name/your-package时才会出现，原因是当包名以@your-name开头时，npm publish会默认发布为私有包，但是 npm 的私有包需要付费，所以需要添加如下参数进行发布：
```
npm publish --access public
```
